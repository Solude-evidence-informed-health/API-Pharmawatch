{"openapi":"3.1.0","info":{"title":"Pharmawatch API","description":"Pharmawatch API is a REST API that allows communication between the Pharmawatch web application and the Pharmawatch database on BigQuery to retrieve and upload data in a secure way and with the proper authentication.","version":"1.1.0"},"servers":[{"url":"https://api.example.com/v1","description":"Homologation server"},{"url":"http://localhost:8000/","description":"Local development server"}],"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/medicamentos/":{"get":{"tags":["medicamentos","Medicines","Retrieval"],"summary":"Retrieve Complete Information of Medicines","description":"Given a set of filters, retrieves all information about medicines, including unitary and total price, origin and destination, and type of medicine.","operationId":"get_medicamentos_medicamentos__get","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_get_medicamentos_medicamentos__get"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseMedicineList"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/medicamentos/filtros":{"get":{"tags":["medicamentos","Medicines","Filters","Retrieval"],"summary":"Retrieve Valid Medicines Filters","description":"Retrieve the valid filters that can be applied to the Medicines list.","operationId":"get_medicamentos_filters_medicamentos_filtros_get","requestBody":{"content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/User"}],"title":"User","default":{"token":"mocktoken","descr_first_name":"Mock","descr_last_name":"User","tags":[],"organization":99,"descr_email":"mockuser@mockorg.com"}}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResponseFilters"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/upload/":{"post":{"tags":["upload","Upload","Management"],"summary":"Upload Medicine Data","description":"Upload medicine data in CSV or Excel format to BigQuery.","operationId":"upload_medicine_data_upload__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_medicine_data_upload__post"}}},"required":true},"responses":{"200":{"description":"Success message if upload is successful.","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_get_medicamentos_medicamentos__get":{"properties":{"filters":{"$ref":"#/components/schemas/MedicineFilters"},"user":{"allOf":[{"$ref":"#/components/schemas/User"}],"default":{"descr_email":"mockuser@mockorg.com","descr_first_name":"Mock","descr_last_name":"User","organization":99,"tags":[],"token":"mocktoken"}}},"type":"object","required":["filters"],"title":"Body_get_medicamentos_medicamentos__get"},"Body_upload_medicine_data_upload__post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"user":{"allOf":[{"$ref":"#/components/schemas/User"}],"default":{"descr_email":"mockuser@mockorg.com","descr_first_name":"Mock","descr_last_name":"User","organization":99,"tags":[],"token":"mocktoken"}}},"type":"object","required":["file"],"title":"Body_upload_medicine_data_upload__post"},"DestinationBase":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"descr_destination":{"type":"string","title":"Descr Destination"}},"type":"object","required":["descr_destination"],"title":"DestinationBase"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MedicineBase":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"descr_medicine":{"type":"string","title":"Descr Medicine"}},"type":"object","required":["descr_medicine"],"title":"MedicineBase"},"MedicineFilters":{"properties":{"page":{"type":"integer","exclusiveMinimum":0.0,"title":"Page","default":1},"per_page":{"type":"integer","exclusiveMinimum":0.0,"title":"Per Page","default":10},"sort":{"items":{"anyOf":[{"type":"string"},{"type":"null"}]},"type":"array","title":"Sort"},"ascending":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Ascending"},"id_medicine":{"items":{"anyOf":[{"type":"integer"},{"type":"null"}]},"type":"array","title":"Id Medicine"},"id_type":{"items":{"anyOf":[{"type":"integer"},{"type":"null"}]},"type":"array","title":"Id Type"},"id_origin":{"items":{"anyOf":[{"type":"integer"},{"type":"null"}]},"type":"array","title":"Id Origin"},"id_destination":{"items":{"anyOf":[{"type":"integer"},{"type":"null"}]},"type":"array","title":"Id Destination"},"start_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Start Date"},"end_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"End Date"}},"type":"object","title":"MedicineFilters"},"OriginBase":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"descr_origin":{"type":"string","title":"Descr Origin"}},"type":"object","required":["descr_origin"],"title":"OriginBase"},"ResponseControlList":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"id_medicine":{"type":"integer","title":"Id Medicine"},"unit_value":{"type":"number","title":"Unit Value"},"unit_quantity":{"type":"number","title":"Unit Quantity"},"total_value":{"type":"number","title":"Total Value"},"month":{"type":"integer","title":"Month"},"year":{"type":"integer","title":"Year"},"id_origin":{"type":"integer","title":"Id Origin"},"id_destination":{"type":"integer","title":"Id Destination"},"id_file":{"type":"integer","title":"Id File"},"descr_medicine":{"type":"string","title":"Descr Medicine"}},"type":"object","required":["id_medicine","unit_value","unit_quantity","total_value","month","year","id_origin","id_destination","id_file","descr_medicine"],"title":"ResponseControlList"},"ResponseFilters":{"properties":{"medicine":{"items":{"$ref":"#/components/schemas/MedicineBase"},"type":"array","title":"Medicine"},"type":{"items":{"$ref":"#/components/schemas/TypeBase"},"type":"array","title":"Type"},"origin":{"items":{"$ref":"#/components/schemas/OriginBase"},"type":"array","title":"Origin"},"destination":{"items":{"$ref":"#/components/schemas/DestinationBase"},"type":"array","title":"Destination"}},"type":"object","required":["medicine","type","origin","destination"],"title":"ResponseFilters"},"ResponseMedicineList":{"properties":{"page":{"type":"integer","exclusiveMinimum":0.0,"title":"Page","default":1},"per_page":{"type":"integer","exclusiveMinimum":0.0,"title":"Per Page","default":10},"data":{"items":{"$ref":"#/components/schemas/ResponseControlList"},"type":"array","title":"Data"},"total_pages":{"type":"integer","title":"Total Pages"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["data","total_pages","total"],"title":"ResponseMedicineList"},"TypeBase":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"descr_type":{"type":"string","title":"Descr Type"}},"type":"object","required":["descr_type"],"title":"TypeBase"},"User":{"properties":{"id_user":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id User"},"token":{"type":"string","title":"Token"},"descr_first_name":{"type":"string","title":"Descr First Name"},"descr_last_name":{"type":"string","title":"Descr Last Name"},"tags":{"items":{"type":"string"},"type":"array","title":"Tags","default":[]},"organization":{"type":"integer","title":"Organization"},"descr_email":{"type":"string","title":"Descr Email"}},"type":"object","required":["token","descr_first_name","descr_last_name","organization","descr_email"],"title":"User"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}},"tags":[{"name":"Filters","description":"Operations related to filters"},{"name":"Medicines","description":"Operations related to medicines"},{"name":"Upload","description":"Operations related to data upload of data"},{"name":"Retrieval","description":"Operations related to data retrieval of data"},{"name":"Management","description":"Operations related to data management as upload and removal"}]}